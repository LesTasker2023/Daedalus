@use "../abstracts/functions" as *;
@use "../abstracts/variables" as *;

.button {
  @include flex(row, center, center, var(--spacing-2));
  background-color: var(--color-primary);
  border-radius: var(--radius-md);
  color: var(--color-text-inverted);
  font-weight: var(--font-medium);
  padding: var(--spacing-2) var(--spacing-4);
  transition: var(--transition-all);
  position: relative;
  overflow: hidden;

  // Sizes
  &--sm {
    font-size: var(--text-sm);
    padding: var(--spacing-1) var(--spacing-3);
  }

  &--lg {
    font-size: var(--text-lg);
    padding: var(--spacing-3) var(--spacing-6);
  }

  // Variants
  &--outline {
    background-color: transparent;
    border: 2px solid var(--color-primary);
    color: var(--color-primary);

    &:hover {
      background-color: var(--color-primary);
      color: var(--color-text-inverted);
    }
  }

  &--ghost {
    background-color: transparent;
    color: var(--color-primary);

    &:hover {
      background-color: var(--color-primary-50);
    }
  }

  &--link {
    background-color: transparent;
    color: var(--color-primary);
    padding: 0;

    &:hover {
      text-decoration: underline;
    }
  }

  // States
  &:hover {
    background-color: var(--color-primary-600);
  }

  &:focus-visible {
    @include focus-ring;
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  // Loading state
  &--loading {
    cursor: wait;

    &::after {
      content: "";
      position: absolute;
      width: 1em;
      height: 1em;
      border: 2px solid transparent;
      border-top-color: currentColor;
      border-radius: 50%;
      animation: button-spin 0.6s linear infinite;
    }
  }
}

// Loading animation
@keyframes button-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
